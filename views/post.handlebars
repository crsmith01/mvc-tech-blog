{{!-- Users can only see these posts if logged in --}}

{{#if logged_in}}
<div class="jumbotron">
  <h1 class="display-4">{{post.title}}</h1>
  <p class="lead">Posted by {{user.username}} on {{format_date date_created}}</p>
  <p>{{post.content}}</p>
  <hr class="my-4">
  <div id="comments">
      {{#each post.comments as |comment|}}
      <p> {{comment.content}} </p>
      {{/each}}
  </div>  
  {{!-- do not have a homeRoutes for /comments --}}
</div>
{{/if}}

{{#if logged_in}}
<form class="comment-form" id="comment-form">
    <div>
        {{!-- <input name="comment-body"></input> --}}
        <textarea name="comment-body"></textarea>
    </div>

    <div>
        <button class="btn btn-warning" type="submit">Add Comment</button>
    </div>
</form>
{{/if}}

<div class="comments comment-form">
   {{#each this}}
      <div class="comment">
         <div class="comment-user-info">
            Comment added by {{user.username}} on {{format_date date_created}}
         </div>
         <div id="comment-content">
            {{comment.content}}
         </div>
      </div>
   {{/each}}
</div>



{{#if logged_in}}
<script src="/js/comment.js"></script>
{{/if}}

{{!-- Should I add an {{each}} around the whole thing? --}}